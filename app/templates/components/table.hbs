{{#if (gt this.config.orders.length 0)}}
  <p class="sorting">
    <label>Sorting:</label>
    <select {{on "change" (event-target-value this.setSort)}}>
      <option value="">Natural</option>
      {{#each this.config.orders as |order|}}
        <option selected={{eq order.name this.sort}} value={{order.name}}>{{order.title}} ↑</option>
        <option selected={{eq (concat "-" order.name) this.sort}} value="-{{order.name}}">{{order.title}} ↓</option>
      {{/each}}
    </select>
  </p>
{{/if}}

<table class="table">
  <thead>
    <th width="1">
      ID
    </th>

    {{#each this.config.columns as |column|}}
      <th>{{column.title}}</th>
    {{/each}}
  </thead>

  <tbody>
    {{#each this.list as |model|}}
      <tr>
        <td>
          <LinkTo @route="table.edit" @model={{model.id}}>
            {{model.id}}
          </LinkTo>
        </td>

        {{#each this.config.columns as |column|}}
          <td>
            {{#let (get model column.key) as |value|}}
              {{#if (eq column.format "literal")}}
                {{value}}
              {{else if (eq column.format "boolean")}}
                {{if value "True" "False"}}
              {{else if (eq column.format "absolute-date")}}
                {{#if value}}
                  {{moment-format value "YYYY-MM-DD HH:MM:SS"}}
                {{/if}}
              {{else if (eq column.format "relative-date")}}
                {{#if value}}
                  {{moment-from-now value}}
                {{/if}}
              {{else if (eq column.format "belongs-to")}}
                {{#if value}}
                  {{get value column.label}}
                {{/if}}
              {{else if (eq column.format "has-many")}}
                {{#each value as |model|}}
                  {{get model column.label}}
                {{/each}}
              {{else}}
                <pre {{on "click" (fn this.expand value)}}>{{json-excerpt value}}</pre>
              {{/if}}
            {{/let}}
          </td>
        {{/each}}
      </tr>
    {{/each}}
  </tbody>
</table>

<p class="pagination">
  <label>Count:</label>
  <select {{on "change" (event-target-value this.setPageSize)}}>
    {{#each (array 5 10 25 50 100) as |size|}}
      <option selected={{eq size this.pageSize}}>{{size}}</option>
    {{/each}}
  </select>

  {{#if (gt this.lastPage 1)}}
    Page {{this.pageNumber}}
  {{/if}}

  {{#if (gt this.pageNumber 1)}}
    <button type="button" {{on "click" (fn this.setPageNumber 1)}}>
      First
    </button>

    <button type="button" {{on "click" this.previousPage}}>
      Previous
    </button>
  {{/if}}

  {{#if (lt this.pageNumber this.lastPage)}}
    <button type="button" {{on "click" this.nextPage}}>
      Next
    </button>

    <button type="button" {{on "click" (fn this.setPageNumber this.lastPage)}}>
      Last
    </button>
  {{/if}}
</p>