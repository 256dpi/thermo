{{#let (guid-for @config) as |id|}}
  <div
    class="form__row
      {{if @config.locked 'form__row--locked'}}
      {{if (changeset-dirty @changeset @config.key) 'form__row--dirty'}}"
  >
    <label class="input__label" for={{id}}>
      {{or @config.label "Unlabeled"}}

      {{#if @config.locked}}
        <Icons::Lock />
      {{/if}}
    </label>

    <Controls::Generic
      @type={{@config.control}}
      @id={{id}}
      @key={{@config.key}}
      @model={{@changeset}}
      @value={{changeset-get @changeset @config.key}}
      @changed={{changeset-set @changeset @config.key}}
      @disabled={{or (evaluate @config.disabled @changeset) (and @config.locked @locked)}}
      @placeholder={{@config.placeholder}}
      @redacted={{@config.redacted}}
      @min={{@config.min}}
      @max={{@config.max}}
      @step={{@config.step}}
      @options={{@config.options}}
      @collection={{evaluate @config.source @changeset}}
      @multiple={{@config.multiple}}
      @labelKey={{@config.labelKey}}
      @emptyLabel={{@config.emptyLabel}}
      @allowEmpty={{@config.allowEmpty}}
      @preview={{@config.previewFile}}
      @accept={{@config.acceptMedia}}
    />

    {{#if @config.hint}}
      <div class="input__hint">
        {{@config.hint}}
      </div>
    {{/if}}
  </div>
{{/let}}